{"version":3,"sources":["utils/randomPosition/randomPosition.js","utils/createShipsData/createShipsData.js","utils/ShipData/ShipData.js","utils/Shot/Shot.js","store/Game/Game.js","store/Config/Config.js","store/History/History.js","store/Store/Store.js","store/index.js","components/NavBar/NavBar.jsx","components/Ship/Ship.jsx","components/Shot/Shot.jsx","assets/fire.png","components/GameSquare/BorderSquare.jsx","components/GameSquare/GameSquare.jsx","components/Board/Board.jsx","components/GameControl/GameControl.jsx","hooks/useAutorunWithSubscription.js","components/EndGamePrompt/EndGamePrompt.jsx","hooks/useAutorun.js","utils/createShot.js","screens/Board/useGameController.js","screens/Board/Board.jsx","components/Checkbox/Checkbox.jsx","utils/constants.js","screens/Config/Config.jsx","components/HistoryItem/HistoryItem.jsx","routes.jsx","screens/Home/Home.jsx","screens/GameHistory/History.jsx","App.js","reportWebVitals.js","index.js"],"names":["randomPosition","x","y","random","createShipsData","boardSize","indices","Array","fill","undefined","map","newPostions","i","large","isInvalid","vertical","o","push","Ship","isVertical","useId","this","shots","id","uuidv4","makeAutoObservable","isInPosition","shotPosition","isSunk","every","Boolean","ship","game","shotSubscribe","userId","shotAcerted","setShot","Shot","hit","createId","Game","level","isGameReady","isGaming","isPaused","Map","isUserTurn","userShips","computerShips","userShipsAlive","computerShipsAlive","startDate","endDate","currentUserAvalilableShots","computerId","gameStatusObervable","AsyncSubject","_shostStream","BehaviorSubject","_subscriptions","Subscription","forEach","data","add","subscribeToGameShots","subscriber","pipe","filter","value","subscribe","shipSunk","shotId","shot","get","setHit","has","Error","set","next","toJSON","_shot","Date","complete","unsubscribe","gameData","values","userWins","Config","name","makePersistable","properties","storage","window","localStorage","History","items","index","findIndex","splice","Store","history","config","newGame","subscription","addNewItem","StoreContext","createContext","useStore","store","useContext","StoreProvider","children","useState","Provider","Link","icon","path","useHistory","isPath","useRouteMatch","strict","className","clsx","onClick","NavBar","props","createShip","size","observer","shipData","visible","showOnlyIfSunk","hidden","transform","d","data-size","href","width","cx","cy","r","BorderSquare","horizontal","realX","realY","height","stroke","xmlns","Square","getGame","isDisabled","computed","squareIsDisabled","Board","onSelectSquare","squares","useMemo","range","idx","includeBorder","String","fromCharCode","viewBox","levels","GameControl","pausePlayGame","startGame","disabled","isGameOver","endGame","useAutorunWithSubscription","callback","deps","useEffect","dispose","autorun","EndGamePrompt","show","setShow","userWin","setUserWin","setTimeout","node","ReactDOM","createPortal","document","getElementById","propTypes","PropTypes","func","isRequired","useAutorun","createShot","dispatch","a","console","groupCollapsed","error","Promise","groupEnd","useGameController","makeComputerShot","nextTurn","BoardScreen","onUserShot","useCallback","makeUserShot","e","computerShots","shotsAsArray","userShots","style","maxHeight","minWidth","isUserShot","when","message","Checkbox","checked","GAME_LEVELS","type","onChange","setName","target","setLevel","levelIsEasy","levelIsMedium","levelIsHard","HistoryItem","onDelete","moment","format","routes","Component","to","exact","removeItemById","library","faHome","faTh","faHistory","faCog","faPlay","faStop","faPause","faSpinner","faTrash","faSquare","faCheckSquare","App","gridArea","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","render","StrictMode","log"],"mappings":"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","file":"static/js/main.53f3d196.chunk.js","sourcesContent":["import random from 'lodash.random';\n\nexport const randomPosition = ({ x = 9, y = 9 } = {}) => ({\n  x: random(0, x),\n  y: random(0, y),\n});\n","import randomPosition from '../randomPosition';\nimport random from 'lodash.random';\n\nexport function createShipsData(boardSize) {\n  // boolean[10][10]\n  const indices = Array(boardSize)\n    .fill(undefined)\n    .map(() => Array(boardSize).fill(false));\n  const newPostions = [];\n\n  for (let i = 0; i < 10; i++) {\n    let large = 0;\n    let isInvalid = false;\n    let vertical = !!random(1);\n\n    if (i < 4) large = 1;\n    else if (i < 7) large = 2;\n    else if (i < 9) large = 3;\n    else large = 4;\n\n    const { x, y } = randomPosition({\n      x: boardSize - large,\n      y: boardSize - large,\n    });\n\n    for (let o = 0; o < large; o++)\n      if (!isInvalid) {\n        isInvalid = vertical ? indices[x][y + o] : indices[x + o][y];\n      }\n\n    if (!isInvalid) {\n      newPostions.push({ x, y, large, vertical });\n      for (let o = 0; o < large; o++) {\n        if (vertical) indices[x][y + o] = true;\n        else indices[x + o][y] = true;\n      }\n    } else i--;\n  }\n  return newPostions;\n}\n","import { makeAutoObservable } from 'mobx';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport class Ship {\n  constructor(large = 1, isVertical = true, x = 0, y = 0, useId) {\n    this.large = large;\n    this.isVertical = isVertical;\n    this.x = x;\n    this.y = y;\n    this.shots = Array(large).fill(false);\n    this.id = uuidv4();\n    this.useId = useId;\n    makeAutoObservable(this);\n  }\n  setPosition(x, y) {\n    this.x = x;\n    this.y = y;\n  }\n\n  isInPosition(x, y) {\n    return this.isVertical\n      ? x === this.x && y >= this.y && y <= this.y + this.large - 1\n      : y === this.y && x >= this.x && x <= this.x + this.large - 1;\n  }\n\n  setShot(x, y) {\n    if (this.isInPosition(x, y)) {\n      const shotPosition = this.isVertical ? y - this.y : x - this.x;\n      this.shots[shotPosition] = true;\n    }\n    return this.isSunk;\n  }\n\n  get isSunk() {\n    return this.shots.every(Boolean);\n  }\n\n  static subscribeToGameShots(ship, game) {\n    return game.shotSubscribe(({ x, y, userId, id }) => {\n      if (userId !== ship.useId && ship.isInPosition(x, y)) {\n        game.shotAcerted(ship.setShot(x, y), id);\n      }\n    });\n  }\n}\n","import { makeAutoObservable } from 'mobx';\n\nexport class Shot {\n  constructor(x, y, userId, hit = false) {\n    this.id = Shot.createId(x, y, userId);\n    this.x = x;\n    this.y = y;\n    this.userId = userId;\n    this.hit = hit;\n    makeAutoObservable(this);\n  }\n\n  setHit(hit) {\n    this.hit = hit;\n  }\n\n  toJSON() {\n    return {\n      id: this.id,\n      x: this.x,\n      y: this.y,\n      userId: this.userId,\n      hit: this.hit,\n    };\n  }\n\n  static createId(x, y, userId) {\n    return `${userId}-${x}-${y}`;\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { BehaviorSubject, AsyncSubject, Subscription } from 'rxjs';\nimport { filter } from 'rxjs/operators';\nimport createShipsData from '../../utils/createShipsData';\nimport Ship from '../../utils/ShipData';\nimport Shot from '../../utils/Shot';\nimport { v4 as uuidv4 } from 'uuid';\n\nexport class Game {\n  constructor(level = 0) {\n    this.id = uuidv4();\n\n    this.isGameReady = false;\n    this.isGaming = false;\n    this.isPaused = false;\n    this.shots = new Map();\n    this.isUserTurn = false;\n    this.userShips = [];\n    this.computerShips = [];\n    this.boardSize = 10;\n    this.userShipsAlive = 10;\n    this.computerShipsAlive = 10;\n    this.level = level;\n    this.startDate = null;\n    this.endDate = null;\n    this.currentUserAvalilableShots = 0;\n\n    this.userId = uuidv4();\n    this.computerId = uuidv4();\n\n    this.gameStatusObervable = new AsyncSubject();\n    this._shostStream = new BehaviorSubject();\n    this._subscriptions = new Subscription();\n\n    createShipsData(this.boardSize).forEach((data) => {\n      const ship = new Ship(data.large, data.vertical, data.x, data.y, this.userId);\n      this.userShips.push(ship);\n      this._subscriptions.add(Ship.subscribeToGameShots(ship, this));\n    });\n\n    createShipsData(this.boardSize).forEach((data) => {\n      const ship = new Ship(data.large, data.vertical, data.x, data.y, this.computerId);\n      this.computerShips.push(ship);\n      this._subscriptions.add(Ship.subscribeToGameShots(ship, this));\n    });\n\n    makeAutoObservable(this, {\n      _subscriptions: false,\n      _shostStream: false,\n      gameStatusObervable: false,\n    });\n  }\n\n  get isGameOver() {\n    return !!this.endDate;\n  }\n\n  shotSubscribe(subscriber) {\n    return this._shostStream.pipe(filter((value) => !!value)).subscribe(subscriber);\n  }\n\n  shotAcerted(shipSunk, shotId) {\n    const shot = this.shots.get(shotId);\n    if (shot) shot.setHit(true);\n    if (shipSunk) {\n      if (shot.userId === this.userId) this.computerShipsAlive--;\n      else this.userShipsAlive--;\n    }\n  }\n\n  _shot(x, y, userId) {\n    const shot = new Shot(x, y, userId);\n    if (this.shots.has(shot.id)) throw new Error('shot already exist!');\n    this.shots.set(shot.id, shot);\n    this._shostStream.next(shot.toJSON());\n  }\n\n  makeUserShot(x, y) {\n    this._shot(x, y, this.userId);\n    this.currentUserAvalilableShots--;\n  }\n\n  makeComputerShot(x, y) {\n    this._shot(x, y, this.computerId);\n    this.currentUserAvalilableShots--;\n  }\n\n  startGame() {\n    this.isUserTurn = true;\n    this.isGaming = true;\n    this.startDate = new Date();\n    this.currentUserAvalilableShots = 1;\n  }\n\n  endGame() {\n    if (this.isGaming) {\n      this.endDate = new Date();\n      this.isGaming = false;\n      this._shostStream.complete();\n      this._subscriptions.unsubscribe();\n      this.gameStatusObervable.next(this.gameData);\n      this.gameStatusObervable.complete();\n      return this.gameData;\n    }\n  }\n\n  pausePlayGame() {\n    this.isPaused = !this.isPaused;\n  }\n\n  nextTurn() {\n    if (this.isGaming) {\n      this.isUserTurn = !this.isUserTurn;\n      this.currentUserAvalilableShots = 1;\n    }\n  }\n\n  get shotsAsArray() {\n    return [...this.shots.values()];\n  }\n\n  get currentUserId() {\n    return this.isUserTurn ? this.userId : this.computerId;\n  }\n\n  get gameData() {\n    return {\n      id: this.id,\n      userWins: !this.isGaming && this.userShipsAlive > this.computerShipsAlive,\n      level: this.level,\n      startDate: this.startDate,\n      endDate: this.endDate,\n    };\n  }\n\n  squareIsDisabled(x, y) {\n    return (\n      this.shots.has(Shot.createId(x, y, this.userId)) ||\n      !this.isGaming ||\n      this.isPaused ||\n      !this.isUserTurn ||\n      this.currentUserAvalilableShots === 0\n    );\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { makePersistable } from 'mobx-persist-store';\n\nexport class Config {\n  constructor() {\n    this.name = '';\n    this.level = 0;\n\n    makeAutoObservable(this);\n    makePersistable(this, {\n      name: 'BattleshipStore:config',\n      properties: ['name', 'level'],\n      storage: window.localStorage,\n    });\n  }\n\n  setName(name) {\n    this.name = name;\n  }\n\n  setLevel(level) {\n    this.level = level;\n  }\n\n  get levelIsEasy() {\n    return this.level === 0;\n  }\n  get levelIsMedium() {\n    return this.level === 1;\n  }\n  get levelIsHard() {\n    return this.level === 2;\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport { makePersistable } from 'mobx-persist-store';\n\nexport class History {\n  constructor() {\n    this.items = [];\n\n    makeAutoObservable(this);\n    makePersistable(this, {\n      name: 'BattleshipStore:history',\n      properties: ['items'],\n      storage: window.localStorage,\n    });\n  }\n\n  addNewItem(data) {\n    this.items.push(data);\n  }\n\n  removeItemById(id) {\n    const index = this.items.findIndex(({ id: itemId }) => itemId === id);\n    if (index > -1) this.items.splice(index, 1);\n  }\n}\n","import { makeAutoObservable } from 'mobx';\nimport Game from '../Game';\nimport Config from '../Config';\nimport History from '../History';\n\nexport class Store {\n  constructor() {\n    this.game = null;\n    this.history = new History();\n    this.config = new Config();\n\n    makeAutoObservable(this);\n\n    this.newGame();\n  }\n\n  get isGaming() {\n    return !!this.game?.isGaming;\n  }\n\n  newGame() {\n    this.game = new Game(this.config.level);\n    const subscription = this.game.gameStatusObervable.subscribe({\n      complete: () => {\n        subscription.unsubscribe();\n      },\n      next: (gameData) => {\n        this.history.addNewItem({\n          ...gameData,\n          name: this.config.name,\n        });\n      },\n    });\n  }\n}\n","import { createContext, useContext, useState } from 'react';\nimport PropTypes from 'prop-types';\nimport Store from './Store';\n\nexport const StoreContext = createContext(null);\n\nexport const useStore = () => {\n  const store = useContext(StoreContext);\n  if (store === null) {\n    throw new Error('useStore must be used in StoreContext children');\n  }\n  return store;\n};\n\nconst StoreProvider = ({ children }) => {\n  const [store] = useState(() => new Store());\n\n  return <StoreContext.Provider value={store}>{children}</StoreContext.Provider>;\n};\n\nStoreProvider.propTypes = {\n  children: PropTypes.node.isRequired,\n};\n\nexport default StoreProvider;\n","import { useHistory, useRouteMatch } from 'react-router-dom';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\n\nconst Link = ({ icon, path }) => {\n  const history = useHistory();\n  const isPath = useRouteMatch({ path, strict: true });\n  return (\n    <button\n      className={clsx('btn', isPath && 'btn-green')}\n      onClick={() => history.push(path)}\n    >\n      <FontAwesomeIcon icon={icon} />\n    </button>\n  );\n};\n\nLink.propTypes = {\n  icon: PropTypes.string,\n  path: PropTypes.string,\n};\n\nexport const NavBar = ({ className, ...props }) => (\n  <div className={clsx('w-12 mb-3 md:mb-0', className)} {...props}>\n    <div className=\"flex flex-row space-x-4 md:flex-col md:space-y-4 md:space-x-0\">\n      <Link icon=\"th\" path=\"/board\" />\n      <Link icon=\"history\" path=\"/history\" />\n      <Link icon=\"cog\" path=\"/config\" />\n    </div>\n  </div>\n);\n\nNavBar.propTypes = {\n  className: PropTypes.string,\n};\n","import PropTypes from 'prop-types';\nimport { observer } from 'mobx-react-lite';\nimport clsx from 'clsx';\n\nconst createShip = (large, isVertical) => {\n  const size = 16 + 38 * (large - 1);\n  return isVertical\n    ? `M 20 5 l -10 10 v ${size} l 5 5  h  10 l  5 -5 v -${size} z`\n    : `M 5 20 l  10 10 h ${size} l 5 -5 v -10 l -5 -5 h -${size} z`;\n};\n// TODO: drag and drop\nexport const Ship = observer(({ shipData, visible = true, showOnlyIfSunk = false }) => {\n  const hidden = showOnlyIfSunk ? !(visible && shipData.isSunk) : !visible;\n\n  return (\n    <g\n      transform={`translate(${(shipData.x + 1) * 40},${(shipData.y + 1) * 40})`}\n      className={clsx(hidden && 'hidden')}\n    >\n      <path\n        d={createShip(shipData.large, shipData.isVertical)}\n        data-size={shipData.large}\n        className={clsx('ship', shipData.isSunk && 'ship-sunk')}\n      />\n    </g>\n  );\n});\n\nShip.propTypes = {\n  shipData: PropTypes.object.isRequired,\n  visible: PropTypes.bool,\n};\n","import { observer } from 'mobx-react-lite';\nimport clsx from 'clsx';\nimport fire from '../../assets/fire.png';\nimport PropTypes from 'prop-types';\n\nexport const Shot = observer(({ shot, className }) => {\n  const x = (shot.x + 1) * 40 + 20;\n  const y = (shot.y + 1) * 40 + 20;\n  return !shot.hit ? (\n    <circle cx={x} cy={y} r=\"10\" className={clsx(className, 'shot')} />\n  ) : (\n    <image x={x - 10} y={y - 10} href={fire} width=\"20\" className={className} />\n  );\n});\n\nShot.propTypes = {\n  shot: PropTypes.object.isRequired,\n  className: PropTypes.string,\n};\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAACXBIWXMAARlAAAEZQAGA43XUAAAYh0lEQVR42u2dP4tmSRXGe8bIaFETEzMRBNlPIWwi+AUEETYzMRCGfR13mWwRTTc1NerMr2BjYmJgYjCsRoIgCK57V21v3b51u956q+pW1a2qW39+wWH23/T0dvd56pznPOc5d+/95Ht3BEGMGXwRCAIAIAgCACAIAgAgCAIAIAgCACAIAgAgCAIAIAhT/PsXX/mSCL4WAABBEAAAMVJ89vE773720cv3qAIAAGK00v+XX/v6v17fTXM8fvb67p6vCwBADJL8y+v/4cv3RfJvIDD/vfrvCQCA6BoAXnxyBQCv7x5IfgCAGKX/nxN+BYAtBB9AFQAAEL1XAUr/r1UBbwAAAIDovfyfX3o18bcKYK4K+DoBAETvAPD67t4CAG9FdcDXCgAgOp7964mvtgLi39MGAADEYK8/RCAAQAzU+3/24Yub1x89AABAdJr8orcXPb6l9AcAAACi2+SffzXN/QEAAIAYK/knAAAAIMYq+32SHwAAAIgutvwUwk/p+feSnykAAED0kPhLyf+86BMc6AAAAKLBcv/Iq3+lBCTxAQCiscQXzj7PAp+Y5L8yBgEEAACihXL/ieR7E/PaQwACAETLr/6crJqw5zAIsAgEABC1y3mfyv2HlIn/9Pq/+ITXHwAgan71r8v9o4lv3AIkAACifkFPquTHCQgAIBoo+d9mePUfMQMFAIj613enXMmP8g8AICp++TMmP8QfAEDUPOfPWfYvpB/+fwAAUenrrx3toPQnAIAxS//HLKU/kl8AgBj29cf5FwAgqgSBfd8+iD8CAOh87PeYM3j9AQCiVgB4kvrmm/knOP0FcAAARD4AuM8694+U/OrCJCYIAACRITysu08Z/T0TlC/fRz4MABD5AOBtif7/CEmJeQgAQGRqAzJPAA4ZfuhjSpSEAADRDgA8JgMAZVLBGjEAQOTR/1cr/9X3FDASAQCI+jmApMYfKlmJsAgAIBqYAohz4EfZe8O4kioAACBaGQMeZe9tegWqAACAqFsIlKQKUD5P/eAoluIAANHCJmAKLsBkS85EAAAgKt8FSKIKVMRANw5DJD8AQBypAJ6ktiUAINQXwKADmHAZAgCIPOvAuQFAlu1vfUFgp0qBDAQAiNi12ZJ+AKaT4CEg4JpU0AYAAMSRbbsnP8DHE+JqxVf//A0tCoYjAADhZMrX670hfbGFYCtXDcwlvO3z9LArY0sQAODlX8vk+xhi7GQAeOYF5iRW5/qGi8R4DgIAhGVGfh/bE2c2BfUGAWW097B+PlNJ2zECAOhCyBOaDBUAwOPRKQREIAAw+ggv+gBHRQBwBAyQBQMAg4HAbeJGA8CZJGANxiMEANCNhDe0Bch8FqzcNIFRIAAwDOu/82r77MqfKQQCAAAAIs8Gn/eW3Em7ANW6DxMAQKu9v2n/ftc9t+RZcDgAAIAot73nTQaWMAUFAAAAoryFl1Mi21P/71vxEABA+69/BGOvL9yoizea0Wa7IIAQCACg/N835bSMEZsv/wUA8HMCAODft6OXX7YFnzYG7ztJfnYBAAD6/5w6+9pffxUAaAMAgK6rgASM/aRETwBwDwAAAN3P/zt+yQEAAIAAAMoDgMmOjAAAmtP/Vzmfn4MKAAAgRqsALnO8WqNyABA6CamVIACA2qcAb2t/9UXyf/6rLz/+97ffePzi1199AoNKx4ASVBESAQCteADc1zzWWwBgfvVF4j/+4TtLLCDw6i5rOxDsg2iQQuMsDAA0awJSGwCI138BgN9/+/Hxd9/MzQVMoctAppsDiIkAgFZ2Aarv/68AYP5VtATZq4AQK3SLtJo7gwBA3ZOA2td3L09JLl79JflXABCAkBEAgm8DWAGA+wIAAG3AsfJfvPbb668CQEWeAI7lKnwFAIBzX3j9h7QVPYCx/1diaQMumasADys0Cwk4hX4MAIBI+rL7KNNqtfFSx3964pfkAZaRnoc5qGu9GjIQACie+IvP37qmu9zJe4o3rZCBztdf8AGFxoEygeXXaR9Izf4KkIEAQJFSfyX13lgOfDy0oAm4mf1bKoBCAHClDHS1UpZKCjIQACjz6i8S1NvEn/ZK2Zr8/K6IP1PilweAKxBQgVa3Q3NMVFAGAgD5kn+19b63XccN8fU/YBBSLvnLA8BVFWW7F7A3TeHQCACQy9Nvcv7gebw+Z44EJeG3lf17yV+WBLTxAvcLxyKqrieu5SHWURkAIFLM76cjP3hntQHy1Rd/bRv32SLzGJAVYwCgDzPPkNKz1GHPLWlfPW/6hST/tg9wOT2xve3QGAcCAGdYeYcttRQQBW2Je1FK/pDkzy8F5tYAAFDp/n7YC+291VZKD6ASfcGvfiX9P+fGAICW9vfDACDTZV8j0ReZ/Mvrf7lrKfEBAAAg2eruFEw+7XAA2jjxbbaSP4Lo6+n1BwAAgNJbe04NgEHEcp8r+cWvKZK/xd7/igMAAACAWBCIfZ33fvBEhZBNAJQq+ddQAYWDowAAzj0BP3xixr/JV0W5/yQdvs/K+l/u0iR/eeUf9wYBgGZHf6524O1aSUynL/SERB1zf4RAAEDb7r3a65nvpp/Jyqvg619ZlYAxCADQt39/1tc/VPYrj4jUwxWwCwAADHLBx8PKK3bu75v8knSsbVzINiAA0K91d2Xlf2WCITQAAMABAKjAqCOZl19m4Y/eftQyOWACAACcOQGo09QjFwBoAHTy2jATAABgUABIQQBGSH91DiKIQ2ACAAAAAHVVAFEjQO2g6NmEIK7AAMA4AJCYAwi9AmQcQ+Y/KMoWIAAACXjFxKeYAkRUATcAUPiOQKgjsDRjHa1KIMkZA0ZJgfcS2FgBrEBQOvldBKAO8KMRhSR5p0IgGak2AG+MQHZAwCpEKs8F7K5jq2veo60Lk9xhUuCHIZWAkSBg3EIsPxFwSoANex5DkYUkdiYX4B53AdSbgCKJ5Z+hJ7LaJtg+RmldgC2pjQAw0AkxErzzUWByANBeclnOy2SW4fyzTyAD93YA1OpuJNMQErxhHsCnB08mBrKAgPhVJPN2XOTVnZcGobStWAgAjLQ0RGKf5AmQ6qCHbdEmuRZgDwjmsl4ktQCDpe/3+O9LTgP2+noFAIZaGya5GxsHqo48IrmdDj05RoF7iS2jHnchLxmw4vUw1N4Ayd1QFXDj7qsYdBYbBSaMkkSgaxPQZMU+Cg9AYue/DJTN3dd3175KADhhN0BvA/aquhF4ABK63H2AtKy+xzxdVgcAwPM5cfUWg+N7OQwPQFKfcCMgyXovABD1ddSTepUAT6OuD5PMDSwIWRPZh0irGADOcgoSQp/1HsMbSwU3DBFIQht6wkhCsLy5h+crKtV7tZGAtR8ZGcFCjOSPRPdSVYBT079HBJYeA7ZzZWjyuccwwiSA5F+TeNkFX3u+iCWh7FWANYktiVRECdh/BQAADKLvn2K+4bl3BLz1/AoIPJNdmbYB+6gAAICRAcBQvkeTPvLIZ45xYFASy4S6POvxsy0CUQEAAJ1Ieq/nvpF74LlHgt6v+MoJeOnxW6sALkpAAgIACWb4D7r444gTjOHjnePrF6LHbwAAVC5j8yAotz/AGHCUvf5YK6hc+wFFt/lOAgCfleCTrgwhBOoVAEzl+vrDNEntNwBQEAAuYQBQcIuQXYCBXH0Oa79T+wV2DwCeSkbTDkSJKoBtwPFWeSdJ+tQwBRgCADyS2Xlg5JKx/B/EF5AFnpsfOP8qILtXYM1KvkSxt9J81oERLMHGdfOZ1HGgujaqcwk2M4nqrb0bqgJsB0ZCT5UFXhEa5ow4/b+9B3yzh/5r8j8U8wDI3I+fWWnYlpqsX4OM68TcBcDEYyOCxO8RlYNI9m2KMP/98s8L+gHkTs7//OUHj//703dPJQQ3i/HXHhbjnmPEGPHPSNeDIQB3yCANDN6uST/lNa14Ua4KmBNPJP/n//z54/SPD05vNXQ587bQZALADGTgKG7AAEA4K6x78adn/V/fyl2zTgPmBBKvvkx+8etSBZxJOipy5k3S7NiETNkGjNT7DzkFqPG2n+7xv1l9Fzrzpb7+VQCALmf23IJMAgCDnQYHACo53yX+Wl/gubHMzjESFAn0tx8vyS8BQABCM2PHhDzA3utvmgYBAADA4VdfLrmoL9629JKzCtDKfwkAAhBalBPnuh6cykEKAAAAri/7XNZkVm7sufra3Yu7CQBARhVtQCEAWEjXnUWwbfKztggAQPsAMJ2Z/Opxj5AFmaQ231r/32QbcBwAdmW/OoHc25SAKcAJyW916Y1RxR2c/ZsqgGaqgDQtgBf5d3U+vCOycDAl4ItPTqsA9pLfY6yVGgBEv28CgGa4gAQkoM/Wn75D0tO4EClwQbZ/t3T3BIBULYANAK5agRaWieIAIGjr7+Z8eCdVAMtAZ5z1iphrX32cVKo7BwA0AQIJdAC+iXwDAJ1UAawD1/L6G0raK1nwK48WIgEJaG0H5CpuJwDgw/5r/NENgdzDyjBXfUv2/oF22TLE71/6/pQnvjwBQAWB6ojBeCmwt+mnhUDuxjNwVDvw+sp/Q28r9fBZbvs5dAA2EBC/bi1BJUBwo5jUxVYHTT9dE6QebMOGtAUvJQg6xNrrevgcCTd/XJ/kr7YlcG0Dvtq/IRBC5Nl+ZlonA7EFr6X/PymBfNsAUzVwqn+ACgCGr/u2VHWxHwcNsYE3cEddtAFjHgbJdMrLxgHUDAAiiUOrgCqqAYNq8kpstSeqCmDxXbZvrU8Dxj0NVkIVeEnM3FdUBRirgVIgsH49dQ2AzrlYNALhBKCbNzp0UQoAOP8waFUTgLPY9Ngq4DT5sOGFN3EuBpLQWwDk0TJOre8HdFne+8x2S2kCmgCAg1WArASKGoo4AGCbupjbgGDffwdp3PwNge6Sf/Xtu69iN6AxX/8UVUAxEPAEAMOykFfSelaKV6pAAKCS8d7efLZ0G1A1BxCpC9iLEv+/exyARSuwywEE3nyYWtYD9DjaWwCgGk3ApaHDHom4gCKeAobjIEYAsEwD1KRVD8Boye/rH9EsEdilxt9nNFNCGny6DiD02EcCLkDGNh4sKAV2XhEyqgVvybvlZ2n+5wH80AQAVCbsCQKAjG1A0cs+lpI+qB9fW5VmuABl1OcEXLticFoOvMw/A0scOPbS6mJQl1ZfQSKPjNOAUy/8itdRCnVCknB1Cj5aBRSzFpMl/npMxAi29qWhyecoDADQ2HKPLylTTBR0Ag8gkzj4FU7UBhT1FlwrAevX2K0KnI4k/lZJrABAC1CHzZdXT1aSByjWBihsfpStV0IAKGor5joikv+cOBxAbQYfPltaxcaBJSXBaw8f3YO3CgCFDohYfQUBgGrkvOG73pk9Ao74Ahw+9BlRgqfiAGoyFs0FAJuzEDqAutx9Qre9ml8NNmz2Bf85iacANVUAOVuAljcCu97o82FmF/FHqfXgnK2AoXSP+TNS6QCqOjCSDwC8NwsBgLIGn2F670I2YdlaAYuMN+jPSCwFrg0AUp4RZxmoHW+/SSUDdcVX6inAlYtvyVbAQtwFkYCJSv/iS0Ge4XAHSlEBvAEAKrX12mNoVyCZUgh+vHzo9BNhmTT83gm4tiMpiL8qASDR+bAUl4UBgBPsvSVLu+i752SXfgHLtdcwzbfXwU+pSnNVAqkv/JhKd68SPFPyyz+/CuPQ/BqApu8DDGPppRlCTJ720cHXfn3GTam5ABdxZ/34ytQgdfKXXAk+5Bw8uAioaRIwYo13Sij9NMt8PV+bpDsCjt79qgpQY/49qdj+qkeAmQVAPdwGaBkAip748pX42g5VZHEL8mDu1as+IkTi53z1awOATOw/rsBntgBn3PjzSuDAH7gSAKD69cnIlfjBI8DMR09s5F8iMGh+BNiuEKikr3/Igk8I4ZSoAshZymcFAAW8skwLXN+Ly51fldb5BKDdCqASADCy+ArpZPsBS7YhWDEA7Ca1AgBZQMBG/q3cy973aAQCsNkKoOSBz+DXW3WpuVyf+d6EQusP5eExYMsAYCAwk7UDFvJPfu2Xr7sHUPfe/zcHAGdc+A1m8JWrNZIP0EMdG+YcAbYEAKmJQ1crdjWyvYxb/gMAOfX867+T4iDx3yc/991JC5BDPWh63a8qgIMioZY9AGgBSi706Ge+E4tjWiYB9c89SRWwx/7r3E24UKgL9p8pQItOvz1NASwCpsNVgONVv/neSSl0RBXQsvwXAOgFACquAJwv+Zx4tv2Dw2vEIQAQvizU/P5/NwBwlhComL1XwxWA8yX3/JyPfG1takyXfiNIwOXhNwkAnGcGMg4AVFoB3FQByoUi3883ug1w9PQuAPDYGeju9R9tGaiNYx+BP/Q5VnlTg4DcQfD9XKN5gLWvjxJgeZKBvfT+w60DV3/2ex2LLf1vwO+pGQBi9xCieYCdfv5qDOh/Pag75r8TRyDjQZCikdrhVyaz98dczTxqTf7i24SOQ6A+Cs6daUCz13+GtgRrYhKgiWK8y9/EPn41xVEACP6e2cGjed+/PgEg9zWfwjxA8EGPxC6+vVQAOgegng1fvl+2r6uDP+hF9dcXCZjAzLOKo5+GRPb6eBWPAM+2FN92MOTqr5r8rq+thQjsQfM/2l2AdtqA2IMeHZf/RwFAgLJ8+eUOhrqfEaIhkGO/XqPry0BFYgaBQ8s9hkT2+Vi9vv6p5MBXI9WA740GAFNvY79hbgM2UQVYyvhRe/8aHIVVAOhx7DfCdeB8yZ5BExDkpz9A8p99UmwDgI6Jvy44gKI8gOPqT3QV4HPQQ43Oy/5aLgo9VwD9En/dkICleADp4GNaMokeCe6w+LqVd+2Kv1Pn/4lvCPZg9TUOAGRsA3QDib0109CRoCupdQntCMnvfP11Yi/jFaGetv26bgFyrgbfvOweABC0IdjxGC917y9PmAnAXP6bHLcEViXgCMRfVxxArr2Am95+TyseQgauY0MS32MFWONK5K/b0lTShaxv/XkE4q8/AMihCtQTegcAgtoA5TAn4dH7u/wDE1YDX/z1/e+P9Pr30QJkIAONJf2OaURQGwAAhDH/loopeHnKJaz69Ie/GS35uwCAHLsBxtfcx2wiZBpACxDsAJTNR3DA0r8rAMilDDSV887rvyE8AAAQpvzbGZse0Q+MWPp3VwGkuhrsfMl9LKQvnrsBAEDwIZE9IVQwCMzfg9FY/64BIIUuwKeXt16dCTz5PYq4J5X8d+/rFewjIEr/QRO/OwBINRb0do7RpcGrXDhEEgwABLzeARWTbxXQ+6bfcACQQhzkO86TO+cSBMRfb3f/Gvf0P70SkKM9JXy/Vt7VxMB9f/cAoLQCUy4AkD+k4r+T56ZDl4EAgA+soz3xtVF3IUIchXevEn36o5+R/D1XAEenAiFWX7EHPwfZ6y9pJ+4zVRh13j9cBaAcEAkWCMntvySmFDaAAABOOEsG6TccAKyjwYdQEDhk86Ud7lhKUoPGnVFgQQBQxD6AwCAAIL/RwaTgJREArAlu7UkBgDJjxTn5YfwHrgBCpcJJWgClxN+WViyjQJI2LwCQ/AMDgEEkNJXiAOSc38VKowXICwAjmXsAAKlAIMXBj7W8BwDOAwCSHwAIBgHnBdmAUBn+PQAgaTP4CyD0AQACQGA66u/netmNAKB4AlABpA16fgDAmxhUpgNTspNfPtd+EigB9xZjav93KYFv+Vh//+kfSX4AIGZEuOkEUlz70QU+N3PpQA0AFYJHzMnPnB8AiAOBJ7HQs2Iw1OE3wr8O8i9dCHmv+r0ksQGAYBC42h04eO7LVNpLEBjpyEcRsk9Z7CH5AYAk5KDkBWKJQJ+DHyRvfMsj+32YfgAgJy9wHwUAyHvp9wGA9r0Fn5yFXr6f4uIvkb7kJ/kBgGLVgCCZQioAxD15Xn1GfADAeQThRy/fE1tltXv92XzzY/9Zro8Z+urD8gMAdYwLRVvgAoKEVl8lBDS1En3beE/p9Ul+AKAKbkD8Kl4lGxDg9HO83JcMP68+AFBtWyBepxsg4O5fssQn+QGANoDA0Bog9glPfLXCIvEBgOaAQJKFonelDfCT8PLiAwBdAoFsD8TrxmKP9toLVl+7xkviAwDdkYVbVfDxO++OBgZX/2/z/7d87fUyn8QHAIapCrbKYE4EkRA6ILQKCsbPeX3p1aTntQcAGCFqfy2rgz1AqAUYrJ+H+sobdPq89gAAsZMMGyDMSeQCBRdAxACF6fc6P45MdvnCzwlvAziSHgAgPMDAViYv/05sJ2rAsIHDDkDEkHQytiRfE118Djp55/P/QgAARAQg6CW09feIF3iNDSgCQia2+pLv/bkkOwBAnAgMpkTd++eupLWBzt7vIwAAonKg8Am+dgAAQRAAAEEQAABBEAAAQRAAAEEQAABBEAAAQRAAAEEQbcf/AR0HlePwA0/kAAAAAElFTkSuQmCC\"","import PropTypes from 'prop-types';\n\nexport const BorderSquare = ({ x, y, horizontal = false, children }) => {\n  const realX = x * 40 + (horizontal ? 0 : 10);\n  const realY = y * 40 + (!horizontal ? 0 : 10);\n  const width = !horizontal ? '30' : '40';\n  const height = horizontal ? '30' : '40';\n  return (\n    <g transform={`translate(${realX},${realY})`}>\n      <rect height={height} width={width} stroke=\"#000\" fill=\"none\" />\n      <foreignObject height={height} width={width}>\n        <div\n          xmlns=\"http://www.w3.org/1999/xhtml\"\n          className=\"h-full flex items-center justify-center\"\n        >\n          <span>{children}</span>\n        </div>\n      </foreignObject>\n    </g>\n  );\n};\n\nBorderSquare.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  horizontal: PropTypes.bool,\n  children: PropTypes.node,\n};\n","import { observer } from 'mobx-react-lite';\nimport { computed } from 'mobx';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\n\nexport const Square = observer(({ getGame, x, y, onClick }) => {\n  const isDisabled = computed(() => getGame().squareIsDisabled(x, y)).get();\n  return (\n    <rect\n      x={(x + 1) * 40}\n      y={(y + 1) * 40}\n      height=\"40\"\n      width=\"40\"\n      onClick={() => !isDisabled && onClick()}\n      className={clsx('square', isDisabled && 'disabled')}\n    />\n  );\n});\n\nSquare.propTypes = {\n  x: PropTypes.number.isRequired,\n  y: PropTypes.number.isRequired,\n  getGame: PropTypes.func.isRequired,\n  onClick: PropTypes.func,\n};\n","import { Fragment, useMemo } from 'react';\nimport range from 'lodash.range';\nimport PropTypes from 'prop-types';\nimport Square, { BorderSquare } from '../GameSquare';\n\nexport const Board = ({ children, onSelectSquare, getGame }) => {\n  const squares = useMemo(\n    () =>\n      range(100).map((idx) => {\n        const x = idx % 10;\n        const y = (idx / 10) | 0;\n        const includeBorder = idx < 10;\n        return (\n          <Fragment key={idx}>\n            {includeBorder && (\n              <>\n                <BorderSquare y={idx + 1} x={0}>\n                  {idx + 1}\n                </BorderSquare>\n                <BorderSquare x={idx + 1} y={0} horizontal>\n                  {String.fromCharCode(65 + idx)}\n                </BorderSquare>\n              </>\n            )}\n            <Square x={x} y={y} onClick={() => onSelectSquare(x, y)} getGame={getGame} />\n          </Fragment>\n        );\n      }),\n    [onSelectSquare]\n  );\n\n  return (\n    <svg viewBox=\"0 0 440 440\" className=\"board\">\n      {squares}\n      {children}\n    </svg>\n  );\n};\n\nBoard.propTypes = {\n  children: PropTypes.node,\n  onSelectSquare: PropTypes.func,\n  getGame: PropTypes.func.isRequired,\n};\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { observer } from 'mobx-react-lite';\nimport PropTypes from 'prop-types';\n\nconst levels = ['easy', 'medium', 'hard'];\n\nexport const GameControl = observer(({ getGame }) => {\n  const game = getGame();\n  return (\n    <div className=\"mb-4\">\n      <button\n        className=\"btn mx-2\"\n        onClick={() => (game.isPaused ? () => game.pausePlayGame() : game.startGame())}\n        disabled={!game || (game.isGaming && !game.isPaused) || game.isGameOver}\n      >\n        <FontAwesomeIcon icon=\"play\" />\n      </button>\n      <button\n        className=\"btn mx-2\"\n        onClick={() => game.endGame()}\n        disabled={!game || !game.isGaming}\n      >\n        <FontAwesomeIcon icon=\"stop\" />\n      </button>\n\n      <button\n        className=\"btn mx-2\"\n        onClick={() => game.pausePlayGame()}\n        disabled={!game || !game.isGaming || game.isPaused}\n      >\n        <FontAwesomeIcon icon=\"pause\" />\n      </button>\n      {!!game && <span className=\"text-white mr-2\">Level: {levels[game.level]}</span>}\n      {!!game && game.isGaming && (\n        <span className=\"text-white\">| {game.isUserTurn ? 'user' : 'computer'} turn</span>\n      )}\n    </div>\n  );\n});\n\nGameControl.propTypes = {\n  getGame: PropTypes.func.isRequired,\n};\n","import { autorun } from 'mobx';\nimport { useEffect } from 'react';\n\nexport default function useAutorunWithSubscription(callback, deps = []) {\n  useEffect(() => {\n    let subscription;\n    const dispose = autorun(() => {\n      subscription?.unsubscribe();\n      subscription = callback();\n    });\n    return () => {\n      dispose();\n      subscription?.unsubscribe();\n    };\n  }, [...deps]);\n}\n","import { useState } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport useAutorunWithSubscription from '../../hooks/useAutorunWithSubscription';\n\nexport const EndGamePrompt = observer(({ getGame }) => {\n  const game = getGame();\n  const [show, setShow] = useState(false);\n  const [userWin, setUserWin] = useState(false);\n\n  useAutorunWithSubscription(() => {\n    const subscription = game.gameStatusObervable.subscribe({\n      next({ userWin }) {\n        setUserWin(userWin);\n        setShow(true);\n        setTimeout(() => setShow(false), 2000);\n      },\n      complete() {\n        subscription.unsubscribe();\n      },\n    });\n\n    return subscription;\n  }, [game]);\n\n  if (!show) return null;\n\n  const node = (\n    // eslint-disable-next-line max-len\n    <div className=\"absolute w-full h-full top-0 flex items-center justify-center bg-gray-500 bg-opacity-50\">\n      <div className=\"bg-white p-6 rounded-lg\">\n        you {userWin ? 'Win! 🎉 😎' : 'Lost! 💻'}\n      </div>\n    </div>\n  );\n\n  return ReactDOM.createPortal(node, document.getElementById('root-portal'));\n});\n\nEndGamePrompt.propTypes = {\n  getGame: PropTypes.func.isRequired,\n};\n","import { useEffect } from 'react';\nimport { autorun } from 'mobx';\n\nexport default function useAutorun(callback, deps = []) {\n  useEffect(() => autorun(callback), [...deps]);\n}\n","import randomPosition from '../utils/randomPosition';\n\nexport default async function createShot(level, boardSize, dispatch) {\n  // TODO: make shot by level (medium and hard)\n  try {\n    console.groupCollapsed('Computed Shot');\n    const { x, y } = randomPosition({\n      x: boardSize,\n      y: boardSize,\n    });\n    dispatch(x, y);\n  } catch (e) {\n    console.error(e);\n    await new Promise((r) => setTimeout(r, 1000));\n    await createShot(level, boardSize, dispatch);\n  }\n  console.groupEnd();\n}\n","import { useEffect } from 'react';\nimport useAutorunWithSubscription from '../../hooks/useAutorunWithSubscription';\nimport useAutorun from '../../hooks/useAutorun';\nimport createShot from '../../utils/createShot';\n\nconst useGameController = (store) => {\n  useEffect(() => {\n    store.newGame();\n    return () => store.isGaming && store.game.endGame();\n  }, []);\n\n  useAutorun(async () => {\n    const isComputerTurn =\n      store.game.isGaming && !store.game.isUserTurn && !store.game.isPaused;\n\n    if (isComputerTurn) {\n      setTimeout(() => {\n        createShot(store.level, store.boardSize, (...v) =>\n          store.game.makeComputerShot(...v)\n        );\n      }, 600);\n    }\n  });\n\n  useAutorun(() => {\n    if (!store.game.userShipsAlive || !store.game.computerShipsAlive) {\n      store.game.endGame();\n    }\n  });\n\n  // change turn automaticaly\n  useAutorunWithSubscription(() =>\n    store.game.shotSubscribe(() => {\n      setTimeout(() => store.game.nextTurn(), 800);\n    })\n  );\n};\n\nexport default useGameController;\n","import { Prompt } from 'react-router-dom';\nimport Ship from '../../components/Ship';\nimport Shot from '../../components/Shot';\nimport Board from '../../components/Board';\nimport GameControl from '../../components/GameControl';\nimport EndGamePrompt from '../../components/EndGamePrompt';\nimport { useCallback } from 'react';\nimport { observer } from 'mobx-react-lite';\nimport { computed } from 'mobx';\nimport { useStore } from '../../store';\nimport useGameController from './useGameController';\nimport clsx from 'clsx';\n\nexport const BoardScreen = observer(() => {\n  const store = useStore();\n\n  useGameController(store);\n\n  const onUserShot = useCallback((x, y) => {\n    try {\n      if (store.game.isUserTurn) store.game.makeUserShot(x, y);\n    } catch (e) {\n      console.error(e);\n    }\n  }, []);\n\n  const computerShots = computed(() =>\n    store.game.shotsAsArray.filter(({ userId }) => userId === store.game.computerId)\n  ).get();\n\n  const userShots = computed(() =>\n    store.game.shotsAsArray.filter(({ userId }) => userId === store.game.userId)\n  ).get();\n\n  return (\n    <div\n      className=\"flex flex-col items-center mt-4 md:mt-0\"\n      style={{ maxHeight: '80vh' }}\n    >\n      <div className=\"flex\" style={{ minWidth: '40vw' }}>\n        {!store.game.isGaming && (\n          <div>\n            <button onClick={() => store.newGame()} className=\"btn btn-green\">\n              New Game\n            </button>\n          </div>\n        )}\n        <GameControl getGame={() => store.game} />\n      </div>\n\n      <Board onSelectSquare={onUserShot} getGame={() => store.game}>\n        {store.game.userShips.map((ship) => (\n          <Ship key={ship.id} shipData={ship} visible={!store.game.isUserTurn} />\n        ))}\n\n        {store.game.computerShips.map((ship) => (\n          <Ship\n            key={ship.id}\n            shipData={ship}\n            visible={store.game.isUserTurn}\n            showOnlyIfSunk\n          />\n        ))}\n\n        {computerShots.map((shot) => (\n          <Shot\n            key={shot.id}\n            shot={shot}\n            className={clsx(store.game.isUserTurn && 'hidden')}\n          />\n        ))}\n\n        {userShots.map((shot) => (\n          <Shot\n            key={shot.id}\n            shot={shot}\n            isUserShot\n            className={clsx(!store.game.isUserTurn && 'hidden')}\n          />\n        ))}\n      </Board>\n      <section className=\"text-white divide-x-2 flex mt-2 divide-gray-600\">\n        <p className=\"px-3\">\n          Your ships: <b>{store.game.userShipsAlive}</b>\n        </p>\n        <p className=\"px-3\">\n          Enemy ships: <b>{store.game.computerShipsAlive}</b>\n        </p>\n      </section>\n\n      <Prompt when={store.isGaming} message=\"Are you sure you want to leave?\" />\n      <EndGamePrompt getGame={() => store.game} />\n    </div>\n  );\n});\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport PropTypes from 'prop-types';\n\nexport const Checkbox = ({ checked, onClick }) => (\n  <button className=\"text-white\" onClick={onClick}>\n    <FontAwesomeIcon icon={checked ? 'check-square' : ['far', 'square']} />\n  </button>\n);\nCheckbox.propTypes = {\n  checked: PropTypes.bool,\n  onClick: PropTypes.func,\n};\n","export const GAME_LEVELS = ['Easy', 'Medium', 'Hard'];\nexport const DATE_FORMAT = 'L h:mm a';\n","import { useStore } from '../../store';\nimport { observer } from 'mobx-react-lite';\nimport Checkbox from '../../components/Checkbox';\nimport { GAME_LEVELS } from '../../utils/constants';\n\nexport const Config = observer(() => {\n  const store = useStore();\n\n  return (\n    <div className=\"py-6\">\n      <h2 className=\"text-3xl text-white\">Config</h2>\n      <section className=\"py-6\">\n        <label>\n          <span className=\"text-white\">User Name</span>\n          <input\n            type=\"text\"\n            name=\"user-name\"\n            // eslint-disable-next-line max-len\n            className=\"ml-4 bg-whtie bg-opacity-30 border-2 border-white rounded-lg px-2 py-1\"\n            onChange={(e) => store.config.setName(e.target.value)}\n            value={store.config.name}\n          />\n        </label>\n        <div className=\"mt-6\">\n          <span className=\"text-white mr-10\">Level</span>\n          <label>\n            <span className=\"text-white mr-2 ml-5\">{GAME_LEVELS[0]}</span>\n            <Checkbox\n              onClick={() => store.config.setLevel(0)}\n              checked={store.config.levelIsEasy}\n            />\n          </label>\n          <label>\n            <span className=\"text-white mr-2 ml-5\">{GAME_LEVELS[1]}</span>\n            <Checkbox\n              onClick={() => store.config.setLevel(1)}\n              checked={store.config.levelIsMedium}\n            />\n          </label>\n          <label>\n            <span className=\"text-white mr-2 ml-5\">{GAME_LEVELS[2]}</span>\n            <Checkbox\n              onClick={() => store.config.setLevel(2)}\n              checked={store.config.levelIsHard}\n            />\n          </label>\n        </div>\n      </section>\n    </div>\n  );\n});\n","import { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport clsx from 'clsx';\nimport PropTypes from 'prop-types';\nimport moment from 'moment';\nimport { GAME_LEVELS, DATE_FORMAT } from '../../utils/constants';\n\nexport const HistoryItem = ({ userWins, name, endDate, onDelete, level }) => (\n  <div\n    className={clsx(\n      'p-4',\n      'mb-5',\n      'flex',\n      'divide-x-2',\n      'rounded-lg',\n      'shadow-md',\n      'bg-opacity-60',\n      userWins ? ['bg-green-100', 'divide-green-800'] : ['bg-red-100', 'divide-red-900']\n    )}\n  >\n    <div className=\"px-3 flex font-semibold\">\n      <div className={clsx('text-gray-600', 'mr-3')}>\n        <FontAwesomeIcon icon=\"history\" />\n      </div>\n      {userWins ? 'Winner' : 'Loser'}\n    </div>\n    <div className=\"px-3\">{name || <i>anonymous</i>}</div>\n    <div className=\"px-3\">level: {GAME_LEVELS[level]}</div>\n    <div className=\"px-3 ml-auto\">{moment(endDate).format(DATE_FORMAT)}</div>\n    <div>\n      <button className=\"btn-icon text-gray-600 -my-4 -mr-3\" onClick={onDelete}>\n        <FontAwesomeIcon icon=\"trash\" />\n      </button>\n    </div>\n  </div>\n);\n\nHistoryItem.propTypes = {\n  userWins: PropTypes.bool.isRequired,\n  name: PropTypes.string.isRequired,\n  endDate: PropTypes.oneOfType([PropTypes.instanceOf(Date), PropTypes.string]).isRequired,\n  level: PropTypes.number.isRequired,\n  onDelete: PropTypes.func.isRequired,\n};\n","import Home from './screens/Home';\nimport Board from './screens/Board';\nimport Config from './screens/Config';\nimport GameHistory from './screens/GameHistory';\n\nconst routes = [\n  { path: '/', Component: Home, exact: true },\n  { path: '/board', Component: Board, exact: true },\n  { path: '/config', Component: Config, exact: true },\n  { path: '/history', Component: GameHistory, exact: true },\n];\n\nexport default routes;\n","import { Redirect } from 'react-router-dom';\n\nexport const Home = () => <Redirect to=\"/board\" />;\n","import HistoryItem from '../../components/HistoryItem';\nimport { useStore } from '../../store';\nimport { observer } from 'mobx-react-lite';\n\nexport const History = observer(() => {\n  const store = useStore();\n\n  return (\n    <div className=\"py-6 pr-6\">\n      <h2 className=\"text-3xl text-white\">History</h2>\n      <section className=\"pt-6 overflow-y-auto\">\n        {store.history.items.map((data) => (\n          <HistoryItem\n            key={data.id}\n            {...data}\n            onDelete={() => store.history.removeItemById(data.id)}\n          />\n        ))}\n      </section>\n    </div>\n  );\n});\n","import { BrowserRouter as Router, Switch, Route } from 'react-router-dom';\nimport StoreProvider from './store';\nimport NavBar from './components/NavBar';\nimport routes from './routes';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport {\n  faHome,\n  faTh,\n  faHistory,\n  faCog,\n  faPlay,\n  faStop,\n  faPause,\n  faSpinner,\n  faTrash,\n  faCheckSquare,\n} from '@fortawesome/free-solid-svg-icons';\nimport { faSquare } from '@fortawesome/free-regular-svg-icons';\n\nlibrary.add(\n  faHome,\n  faTh,\n  faHistory,\n  faCog,\n  faPlay,\n  faStop,\n  faPause,\n  faSpinner,\n  faTrash,\n  faSquare,\n  faCheckSquare\n);\n\nconst App = () => (\n  <StoreProvider>\n    <Router>\n      <div className=\"bg-gray-800\">\n        <div id=\"container\">\n          <NavBar style={{ gridArea: 'nav' }} />\n          <header style={{ gridArea: 'header' }}>\n            <h1 className=\"text-white text-4xl\">Battleship</h1>\n          </header>\n          <main style={{ gridArea: 'body' }}>\n            <Switch>\n              {routes.map(({ path, Component, exact = true }) => (\n                <Route key={path} path={path} exact={exact}>\n                  <Component />\n                </Route>\n              ))}\n            </Switch>\n          </main>\n        </div>\n      </div>\n    </Router>\n  </StoreProvider>\n);\n\nexport default App;\n","const reportWebVitals = (onPerfEntry) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals(console.log);\n"],"sourceRoot":""}